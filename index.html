<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Question for Kaliah ‚ù§Ô∏è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #ffeef8 0%, #ffe0f0 100%);
            overflow-x: hidden;
        }

        section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px 20px;
        }

        /* Map Section */
        #map-section {
            position: relative;
        }

        #map-container {
            position: relative;
            width: 90%;
            max-width: 800px;
            height: 500px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        #usa-map {
            width: 100%;
            height: 100%;
            background: #f0f8ff;
        }

        .city-marker {
            position: absolute;
            width: 20px;
            height: 20px;
            background: #ff1744;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 10px rgba(255,23,68,0.5);
            transform: translate(-50%, -50%);
            z-index: 10;
        }

        .city-marker::after {
            content: '';
            position: absolute;
            width: 30px;
            height: 30px;
            border: 2px solid #ff1744;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
            50% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(1.5);
            }
        }

        .city-label {
            position: absolute;
            transform: translate(-50%, -150%);
            background: white;
            padding: 5px 12px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: bold;
            color: #333;
            white-space: nowrap;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }

        #connection-line {
            position: absolute;
            stroke: #ff69b4;
            stroke-width: 3;
            fill: none;
            stroke-dasharray: 10, 5;
            z-index: 5;
        }

        #heart {
            position: absolute;
            font-size: 30px;
            z-index: 15;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
            animation: float 0.5s ease-in-out infinite alternate;
        }

        @keyframes float {
            from { transform: translateY(-3px); }
            to { transform: translateY(3px); }
        }

        /* Countdown Section */
        #countdown-section {
            background: linear-gradient(135deg, #fff0f5 0%, #ffe4e9 100%);
        }

        #countdown {
            font-size: 48px;
            font-weight: bold;
            color: #d81b60;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .countdown-label {
            font-size: 24px;
            color: #666;
            text-align: center;
        }

        /* Text Section */
        #message-section {
            background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 100%);
        }

        .romantic-text {
            font-size: 42px;
            color: #c2185b;
            text-align: center;
            font-style: italic;
            max-width: 700px;
            line-height: 1.5;
        }

        /* Question Section */
        #question-section {
            background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
        }

        .big-question {
            font-size: 56px;
            color: #8e24aa;
            text-align: center;
            margin-bottom: 50px;
            font-weight: bold;
        }

        .buttons-container {
            display: flex;
            gap: 40px;
        }

        .answer-btn {
            padding: 20px 60px;
            font-size: 32px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        #yes-btn {
            background: #4caf50;
            color: white;
        }

        #yes-btn:hover {
            background: #45a049;
            transform: scale(1.1);
        }

        #no-btn {
            background: #f44336;
            color: white;
        }

        #no-btn:hover {
            background: #da190b;
            transform: scale(1.1);
        }

        /* Animation overlay */
        .animation-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }

        .flower, .tomato {
            position: absolute;
            font-size: 60px;
            animation: fall 3s ease-in forwards;
        }

        @keyframes fall {
            from {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .celebration-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 72px;
            color: #4caf50;
            font-weight: bold;
            z-index: 1001;
            animation: celebrate 1s ease-in-out;
            text-shadow: 4px 4px 8px rgba(0,0,0,0.3);
            display: none;
        }

        @keyframes celebrate {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.2); }
        }

        .scroll-indicator {
            position: absolute;
            bottom: 30px;
            font-size: 18px;
            color: #666;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
    </style>
</head>
<body>
    <!-- Map Section -->
    <section id="map-section">
        <div id="map-container">
            <svg id="usa-map" viewBox="0 0 800 500">
                <!-- Simplified US map outline -->
                <path d="M 100 300 L 120 280 L 140 270 L 180 260 L 220 250 L 260 245 L 300 250 L 350 260 L 400 270 L 450 275 L 500 280 L 550 285 L 600 290 L 650 300 L 680 320 L 690 350 L 680 380 L 650 400 L 600 410 L 550 415 L 500 420 L 450 423 L 400 425 L 350 423 L 300 420 L 250 415 L 200 405 L 150 390 L 120 360 L 100 330 Z" 
                      fill="#e8f5e9" stroke="#81c784" stroke-width="2"/>
            </svg>
            
            <!-- Connection line (will be drawn dynamically) -->
            <svg style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;">
                <path id="connection-line" d=""/>
            </svg>
            
            <!-- Chicago marker -->
            <div class="city-marker" id="chicago" style="left: 58%; top: 38%;">
                <div class="city-label">Chicago</div>
            </div>
            
            <!-- Salt Lake City marker -->
            <div class="city-marker" id="salt-lake" style="left: 28%; top: 42%;">
                <div class="city-label">Salt Lake City</div>
            </div>
            
            <!-- Animated heart -->
            <div id="heart" style="left: 28%; top: 42%;">‚ù§Ô∏è</div>
        </div>
        <div class="scroll-indicator">‚Üì Scroll down ‚Üì</div>
    </section>

    <!-- Countdown Section -->
    <section id="countdown-section">
        <div id="countdown">Loading...</div>
        <div class="countdown-label">Until I see you again ‚úàÔ∏è</div>
        <div class="scroll-indicator">‚Üì Keep scrolling ‚Üì</div>
    </section>

    <!-- Message Section -->
    <section id="message-section">
        <p class="romantic-text">Miles don't change how sure I am</p>
        <div class="scroll-indicator">‚Üì Almost there ‚Üì</div>
    </section>

    <!-- Question Section -->
    <section id="question-section">
        <h1 class="big-question">Will you be my valentine, Kaliah?</h1>
        <div class="buttons-container">
            <button id="yes-btn" class="answer-btn">Yes! üíï</button>
            <button id="no-btn" class="answer-btn">No üò¢</button>
        </div>
    </section>

    <!-- Animation overlay -->
    <div class="animation-overlay" id="animation-overlay"></div>
    <div class="celebration-message" id="celebration-message">She said YES! üíñ</div>

    <script>
        // Animate heart along the path
        function animateHeart() {
            const heart = document.getElementById('heart');
            const chicago = document.getElementById('chicago');
            const saltLake = document.getElementById('salt-lake');
            
            const chicagoRect = chicago.getBoundingClientRect();
            const saltLakeRect = saltLake.getBoundingClientRect();
            const containerRect = document.getElementById('map-container').getBoundingClientRect();
            
            const startX = saltLakeRect.left - containerRect.left + 10;
            const startY = saltLakeRect.top - containerRect.top + 10;
            const endX = chicagoRect.left - containerRect.left + 10;
            const endY = chicagoRect.top - containerRect.top + 10;
            
            // Draw curved line
            const midX = (startX + endX) / 2;
            const midY = Math.min(startY, endY) - 50; // Curve upward
            const path = `M ${startX} ${startY} Q ${midX} ${midY} ${endX} ${endY}`;
            document.getElementById('connection-line').setAttribute('d', path);
            
            // Animate heart
            let progress = 0;
            let direction = 1;
            
            setInterval(() => {
                progress += 0.005 * direction;
                
                if (progress >= 1) {
                    progress = 1;
                    direction = -1;
                } else if (progress <= 0) {
                    progress = 0;
                    direction = 1;
                }
                
                // Calculate position on quadratic curve
                const t = progress;
                const x = Math.pow(1-t, 2) * startX + 2 * (1-t) * t * midX + Math.pow(t, 2) * endX;
                const y = Math.pow(1-t, 2) * startY + 2 * (1-t) * t * midY + Math.pow(t, 2) * endY;
                
                heart.style.left = x + 'px';
                heart.style.top = y + 'px';
            }, 30);
        }
        
        // Countdown timer
        function updateCountdown() {
            const meetingDate = new Date('2025-02-13T00:00:00').getTime();
            
            function update() {
                const now = new Date().getTime();
                const distance = meetingDate - now;
                
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                document.getElementById('countdown').innerHTML = 
                    `${days}d ${hours}h ${minutes}m ${seconds}s`;
                
                if (distance < 0) {
                    document.getElementById('countdown').innerHTML = "I'm there! üéâ";
                }
            }
            
            update();
            setInterval(update, 1000);
        }
        
        // Button animations
        function createFlowers() {
            const overlay = document.getElementById('animation-overlay');
            const message = document.getElementById('celebration-message');
            message.style.display = 'block';
            
            const flowers = ['üå∏', 'üå∫', 'üåª', 'üåπ', 'üå∑', 'üíê'];
            
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const flower = document.createElement('div');
                    flower.className = 'flower';
                    flower.textContent = flowers[Math.floor(Math.random() * flowers.length)];
                    flower.style.left = Math.random() * 100 + '%';
                    flower.style.animationDelay = Math.random() * 0.5 + 's';
                    overlay.appendChild(flower);
                    
                    setTimeout(() => flower.remove(), 3000);
                }, i * 100);
            }
        }
        
        function createTomatoes() {
            const overlay = document.getElementById('animation-overlay');
            
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const tomato = document.createElement('div');
                    tomato.className = 'tomato';
                    tomato.textContent = 'üçÖ';
                    tomato.style.left = Math.random() * 100 + '%';
                    tomato.style.animationDelay = Math.random() * 0.3 + 's';
                    overlay.appendChild(tomato);
                    
                    setTimeout(() => tomato.remove(), 3000);
                }, i * 80);
            }
        }
        
        document.getElementById('yes-btn').addEventListener('click', createFlowers);
        document.getElementById('no-btn').addEventListener('click', createTomatoes);
        
        // Initialize
        window.addEventListener('load', () => {
            animateHeart();
            updateCountdown();
        });
    </script>
</body>
</html>